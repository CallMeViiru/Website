<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Viiru | Trades</title>
    <link rel="stylesheet" href="trades.css">
</head>
<body>

<header id="header">
    <img src="https://github.com/CallMeViiru/Website/blob/b0f76f1077e3d3c535c41fc2a11e10c69f4eb62d/Images/Viiru.png" alt="Viiru Logo" id="HIcon">
    <h1 id="HH1">Viiru</h1>
    <nav>
        <ul>
            <li><a href="https://www.viiru.top/" >Home</a></li>
            <li><a href="https://www.viiru.top/Store" class="active">Store</a></li>
            <li><a href="https://www.viiru.top/Socials">Socials</a></li>
            <li><a href="https://www.viiru.top/about">About</a></li>
        </ul>
    </nav>
</header>

<section class="trade-section">
    <h2>Post a Trade</h2>

    <input type="text" id="username" placeholder="Your in-game username">

    <label>Offer Items:</label>
    <div class="dropdown">
        <button class="dropbtn">Select Offer Items</button>
        <div class="dropdown-content" id="offerItemsDropdown"></div>
    </div>

    <label>Offer Diamonds ðŸ’Ž:</label>
    <input type="number" id="offerDiamonds" placeholder="Amount of diamonds">

    <label>Request Items:</label>
    <div class="dropdown">
        <button class="dropbtn">Select Request Items</button>
        <div class="dropdown-content" id="requestItemsDropdown"></div>
    </div>

    <label>Request Diamonds ðŸ’Ž:</label>
    <input type="number" id="requestDiamonds" placeholder="Amount of diamonds">

    <button id="postTradeBtn">Post Trade</button>

    <h3>Live Trades:</h3>
    <div id="tradeList"></div>
</section>

<footer id="footer">
    <p>Copyright &copy; viiru.top 2025</p>
    <a href="https://www.viiru.top/privacypolicy">Privacy Policy</a>
    <a href="https://www.viiru.top/tos">Terms of Service</a>
</footer>

<script>
const items = ["Sword", "Helmet", "Shield", "Potion", "Bow"];

// Populate dropdowns
function createDropdown(dropdownId){
  const container = document.getElementById(dropdownId);
  items.forEach(item => {
    const label = document.createElement("label");
    label.innerHTML = `<input type="checkbox" value="${item}"> ${item}`;
    container.appendChild(label);
  });
}

createDropdown("offerItemsDropdown");
createDropdown("requestItemsDropdown");

// Dropdown toggle
document.querySelectorAll('.dropbtn').forEach(btn => {
  btn.addEventListener('click', () => {
    const parent = btn.parentElement;
    parent.classList.toggle('active');
  });
});

// Get selected items
function getSelectedItems(dropdownId){
  const container = document.getElementById(dropdownId);
  return Array.from(container.querySelectorAll('input:checked')).map(i => i.value);
}

// Example trade posting
document.getElementById("postTradeBtn").addEventListener("click", () => {
  const offerItems = getSelectedItems("offerItemsDropdown");
  const requestItems = getSelectedItems("requestItemsDropdown");
  const offerDiamonds = document.getElementById("offerDiamonds").value;
  const requestDiamonds = document.getElementById("requestDiamonds").value;
  const username = document.getElementById("username").value;

  if(!username){
    alert("Please enter your in-game username");
    return;
  }

  const tradeHTML = `
    <div class="trade-box">
      <h4>${username}</h4>
      <p>Offer: ${offerItems.join(", ")} ${offerDiamonds ? "ðŸ’Ž" + offerDiamonds : ""}</p>
      <p>Request: ${requestItems.join(", ")} ${requestDiamonds ? "ðŸ’Ž" + requestDiamonds : ""}</p>
    </div>
  `;
  document.getElementById("tradeList").innerHTML += tradeHTML;
});
</script>

</body>
</html>
